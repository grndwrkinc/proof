


//OLD STYLES, STILL GETTING RID OF THEM

.images {
	@include display(flex);
	@include justify-content(space-around);
	@include align-items(center);
	
	.image {
		padding: 0 1rem;
	}
}

.video-container, .infographic-block, .download-modal {
	.modal {
	    display: none;
	    position: fixed;
	    z-index: 2000; 
	    left: 0;
	    top: 0;
	    width: 100%; 
	    height: 100%;
	    overflow: auto; 
	    background-color: $darkpurple;
	}

	.video-image {
		position: relative;

		a {
			color: $white;
			@include font-size(5);
			@include line-height(5);
			@include transform-center();

			&:hover {
				cursor: pointer; 
			}
		}
	}
}

//Embed modal
.copy-box {
	background-color: #5d2d83;
	height: 120px;
	width: 350px;
	// margin-top: 15px;
	position: absolute;

	&.center {
		left: 50%;
		transform: translateX(-50%);
	}

	textarea.embed-link	{
		position: absolute;
		width: 250px;
		height: 40px;
		background-color: white;
		top: 50px;
		left: 10px;
		font-family: 'AvenirNextLTW02-Medium';
	    font-size: 14px;
	    padding: 0 4px;
	    overflow: scroll;
	    border-radius: 0;
	    color: #000000;
	    white-space: nowrap;
	}

	button.embed-success {
		padding: 0;
		height: 40px;
		width: 70px;
		border: 2px solid white;
		position: absolute;
		top: 50px;
		right: 10px;
		text-align: center;
		transition: ease color .3s;
		text-transform: uppercase;
		font-family: "Avenir Next LT W02 Bold";
		color: goldenrod;
		background-color: white;
		margin: 0;
		p{
			margin: 0 auto;
			font-size: 14px;
		}
		&:hover {
			cursor: pointer;
			background-color: white;
		}
		i {
			color: goldenrod;
			font-size: 25px;
			position: absolute;
			left: 20px;
			top: 5px;
			opacity: 0;
		}
	}
}


//Error 404 Page

.error404 .site-content {
	.menu {
		text-align: center;
	}
	h1 {
		color: $black_transparent;
	}

	h4 {
		font-family: $font__heading;
		color: $teal;
		text-transform: none;
		text-align: center;
		margin-bottom: 0;
	}

	ul {
		margin: 0 auto;
		display: inline-block;
		padding: 0;
	}

	li a {
		@include font-size(1.5);
		@include line-height(2.5);
		font-family: $font__subheading;
		color: $darkpurple;

		&:hover {
			color: $gold;
		}
	}
}


//Base theme stuff -- probably don't need it
.page-content,
.entry-content,
.entry-summary {
	margin: 1.5em 0 0;
}
.page-links {
	clear: both;
	margin: 0 0 1.5em;
}





//STARTING FRESH FOR SITE 2.0, CAN ERASE STYLES ABOVE AS WE GO


//Section padding is as follows:
//padding-top always 90px/9rem/$section-padding-top
//padding-bottom of a flex-item 60px/6rem
//padding-bottom of a container 60px/6rem OR 0rem if it contains flex-items with bottom padding

.site-content {
	max-width: 1366px;
	width: 100%;
	margin: 0 auto;
	padding: 0 6rem 6rem;
}

.hero {
	height: 44rem;
	position: relative;
	background-size: cover;
	background-position: center;

	h1 {
		color: $white;
		width: 100%;
		text-align: center;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
}

.sub-hero {
	background-size: cover;
	background-position: center;
	height: 32rem;
	position: relative;
	padding-left: 5.88%;
	margin-top: 6rem;

	h1, h2, h3 {
		color: $white;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
}

.hero.no-image, .sub-hero.no-image {
	background-image: url(../images/ECI-website_pattern.png) !important;
}

//Home Page

.home {
	.hero {
		height: 60rem;
		width: 100%;
		position: relative;

		img {
			width: 70%;
			top: 50%;
		    left: 50%;
		    position: absolute;
		    transform: translate(-50%, -50%);
		}
	}

	.featured-text {
		margin-top: 2rem;
	}

	.capabilities-container {
		border-bottom: none;
		padding-bottom: 0;
	}

	.text-container {
		.span_11 {
			column-count: 2;
			margin-right: 0;

			p {
				margin-top: 0;
			}
		}
	}
}

.home, .page-capabilities {
	.text-container, .capabilities-container, 
	.featured-container, .cantrust-container {
		padding-top: $section-padding-top; //RA
	}

	// RA begin
	.text-container {
		padding-top: 6rem; 
	}
	//RA end

	.text-container, .capabilities-wrapper {
		@include display(flex);
	}

	.capabilities-container {

		.featured-img {
			padding: 2rem;
			background-size: cover;
		}

		p {
			margin-bottom: 0;
		}

		.span_11 {
			margin-left: auto;
			margin-right: 0;
			margin-bottom: 6rem;
		}

		.featured {
			@include border-bottom;
		}

		.featured:last-child {
			margin-right: 0;
		}
	}
}

.featured {
	padding-bottom: 6rem;
}

.featured-wrapper {
	@include display(flex);
	flex-wrap: wrap;
	@include border-bottom;

	p {
		margin-bottom: 0;
	}

	.featured:nth-child(3n + 3) {
		margin-right: 0;
	}

	h5 {
		margin: 2rem 0;
	}
}

.cantrust-text {
	@include display(flex);
}

.cantrust-img {
	height: 36rem;

	h3 {
		@include font-size(7);
		@include line-height(8);
		text-align: center;
	}
}

.cantrust-img, .featured-img {
	position: relative;
	background-size: cover;
    background-position: center;

	h3 {
		margin-right: 2rem;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
	}
}

.cantrust-img h3 {
	width: 100%;
	text-align: center;
}

//CAPABILITIES PAGE

.page-capabilities {
	.text-container {
		padding-bottom: 6rem;
		@include border-bottom;
	}

	.sectors-container {
		@include border-bottom;

		p {
			margin-top: 0;
		}

		.span_10 {
			margin-left: auto;
			padding-top: 6rem;
		}

		.span_5 {
			position: relative;
			margin-left: 29.4%;
			margin-right: 0;
		}

		.span_7 {
			margin-left: 47.04%;
		}

		.deets {
			position: absolute;
			left: -21rem;
			top: 10rem;
			width: 19rem;
		}
	}
}

.sectors-container, .perks-container {

	.dropdown-gallery {
		padding-left: 11.76%;
	}

	.dropdown {
		.span_3, .span_4 {
			margin-left: 5.88%;
			margin-right: 0;
			padding-right: 1.5rem;
		}

		.span_5 {

			p {
				margin-top: 0;
			}

			p:last-of-type {
				@include border-bottom;
				padding-bottom: 2rem;
			}
		}

		h2 {
			margin-bottom: 0;
			transform: translateY(4rem);
			position: relative;
			z-index: 1;
		}

		img {
			margin-bottom: 2rem;
		}
	}
	
	h4 {
		text-transform: uppercase;
		@include font-size(1.8);
		@include line-height(2.4);
	}
}

.dropdown-flex {
	@include display(flex);

}

.hero-container, .dropdown-gallery {
	@include display(flex);
	flex-wrap: wrap;

	.dropdown-item:nth-of-type(3n){
		margin-right: 0;
	}
}

.capabilities-container {
	padding-bottom: $section-padding-top; //RA
	@include border-bottom;

	.dropdown-gallery {
		padding-left: 5.88%;
	}

	.sub-hero {
		margin-top: 0;
	}
}

.dropdown-gallery {
	padding-bottom: $section-padding-top; //RA
}

.dropdown-item {
	padding-top: 6rem;
	cursor: pointer;

	&:focus {
		outline: none;
	}

	h5 {
		position: relative;
		margin-bottom: 0;
		padding-left: 1rem;
		@include font-size(2.4);
		@include line-height(3.4);

		&:after, &:before {
			transition: all 0.3s ease;
		}

		&:before {
			content: '+';
			@include font-size(3);
			position: absolute;
			top: -1.6rem;
		    left: -4rem;
		    z-index: 1;
		}

		&:after {
			content: '';
			position: absolute;
			width: 5rem;
			left: -5rem;
			background-color: $extralightpurple;
			height: 2rem;
			top: 0;
		}
	}

	&.active {
		h5:before {
			transform: rotate(45deg);
			display: inline-block;
			color: white;
			top: -0.75rem;
		}

		h5:after {
			background-color: $lightpurple;
		}
	}
}

.linkout {
	margin-left: 29.4%;
	text-transform: uppercase;

	a {
		padding: 0 6rem 0 1rem;
	}
}

//ABOUT PAGE

.page-about {

	.text-container {
		padding-top: 4rem;
		@include display(flex);

		&:last-of-type {
			padding-bottom: $section-padding-top; //RA
			@include border-bottom;
		}

		.span_6 {
			margin-left: auto;
			margin-right: 0;
		}

		.span_7 a {
			text-transform: uppercase;
			padding: 0 2rem 0 0.5rem;
		}

		&.span_8 {
			padding-top: 0;
			background-color: $extralightpurple;
			padding: 4rem 6rem;
			margin-left: 47.04%;
			transform: translateY(-6rem);

			p {
				margin: 0;
			}
		}
	}

	.csr-container .text-container {
		.span_6 {
			margin: 0 0 0 35.28%;
		}
	}

	.csr-container .dropdown-gallery {
		padding-left: 5.88%;

		.span_6 {
			margin-left: 35.28%;
		}
	}
}

.team-gallery {
	@include display(flex);
	flex-wrap: wrap;
}

.team-container {

	.text-container {
		padding-bottom: $section-padding-top; //RA
	}

	.dropdown-gallery {
		margin-left: 0;
		padding-top: 0;
	}

	.dropdown-item {
		margin-right: 0;
		padding: 0 1rem;

		&:nth-of-type(3n + 1){
			margin-left: 5.88%;
		}
	}

	h5 {
		margin-top: 0.5rem;
		margin-bottom: 0.5rem;
		@include font-size(2);
		@include line-height(2.4);
		width: calc(100% - 2rem);

		&:before {
			display: none;
			content: '';
		}

		&:after {
			content: '';
			position: absolute;
			background-color: $mediumpurple;
			height: 1.75rem;
			top: 1rem;
			left: 0;
			right: 0;
			z-index: -1;
			@include transition(all 0.1s ease);
			width: 100%;
		}

		&:hover {
			&:after {
				height: 3.5rem;
				top: -0.75rem;
			}
		}
	}

	.active h5 {
		color: white;

		&:after {
			height: 3.5rem;
			top: -0.75rem;
			background-color: $darkpurple;
		}
	}

	.role {
		font-family: $font__main;
		margin-top: 0;
		margin-bottom: 4.5rem;
		padding-left: 1rem;
		@include font-size(1.667);
		@include line-height(2);
	}

	.dropdown {
		padding: 0 0 9rem 0;
		margin: 0;

		p:first-of-type {
			margin-top: 0;
		}
	}

	.social-share ul {
		justify-content: center;
	}

	.social-share {
		margin-left: 5.88%;
	}

	.bio {
		margin-right: 5.88%;
		padding: 0 1rem;
	}
}

.dropdown-content {
	display: none;	
}

.dropdown {
	position: relative;
	width: 100%;
}

.dropdown-inner {
	@include display(flex);
}

//WORK PAGE

.page-work {
	.hero-container .span_8 {

		h1 {
			padding: 0 11.76%;
		}
	}
}

//THINKING PAGE

.page-thinking, .page-work {

	.hero-container .span_8 {
		width: 100%;

		.sub-hero {
			height: 64rem;
			margin-top: 0;
		}

		.span_5, .btn.barr {
			display: none;
		}

		h1 .btn.barr {
			display: block;
			width: auto;
		}
	}

	.hero-container.double-featured {

		h1, h1 .barr.btn {
			@include font-size(4.2);
			@include line-height(4.8);
			font-family: $font__subheading;
			text-transform: none;
			color: white;
			width: auto;
    		margin-left: 0;
    		padding: 0 1rem;

    		&:after {
    			bottom: 0.5rem;
    		}

    		&:hover {
    			&:after {
    				height: 6rem;
    			}
    		}
		}

		.span_8 {
			width: 47.04%;
		}

		.span_5, .btn.barr {
			display: block;
		}

		.sub-hero {
			margin-top: 0;
			height: 32rem;
		}

		.span_8 {
			padding-bottom: $section-padding-top; //RA
			@include border-bottom;
		}

		.span_8:nth-child(2){
			margin-left: 5.88%;
		}

		h4 {
			width: 62.5%;
			margin-top: 4rem;
		}

		//special calculated width for sub-span item
		.span_5 {
			width: 62.5%;
			margin-left: auto;
			margin-bottom: 2rem;
		}

		a {
			display: inline-block;
			width: 37.5%;
			margin-left: 12.5%;
		}
	}
}

.posts-container {
	position: relative;
	padding-bottom: $section-padding-top; //RA
	@include border-bottom;

	&.grid {
		height: auto !important;
	}
}

.alm-reveal, .posts-container {
	@include display(flex);
	flex-wrap: wrap;

	.blog-item {
		margin-bottom: 6rem;
	}

	.blog-item:nth-child(3n + 3){
		margin-right: 0;
	}

	.blog-item-img {
		height: 100%;
	}

	.blog-item-img {
		position: relative;
	}

	.tile-inner {
		padding: 2rem;
		position: relative;
		// RA: They wanted this on top
		// top: 50%;
		// transform: translateY(-50%); 

		h5, h4, p, a {
			color: white;
		}

		.tile-link {
			text-transform: uppercase;
			margin-right: 6rem;
		}
	}

	h5 {
		margin: 2rem 0;
	}

	.tile-link {
		display: none;
	}

	.no-image {
		background-color: $darkgrey; //RA
		.tile-link {
			display: block;
		}

		//RA: They asked for grey boxes, they got grey boxes
		// .tile-inner {
		// 	padding: 0;

		// 	h5, h4, h3, p, a {
		// 		color: $darkgrey;
		// 	}
		// }

		h4.barr:after {
			display: none;
		}
	}
}

// SINGLE THINKING 

.single-thinking, .single-news, .page-author {

	.hero-container {
		margin-left: 5.88%;

		h2 {
			transform: translateX(-3rem);
			padding-left: 1rem;
		}
	}

	.span_8 {
		margin-top: 4rem;
	}

	.sub-hero.span_8 {
		margin-top: 6rem;
	}

	.text-container {
		padding-bottom: $section-padding-top; //RA
		@include border-bottom;
	}

	.content-area {
		@include border-bottom;
	}

	.sub-hero.no-image {
		display: none;
	}
}

.single-news {
	.text-container {
		border-bottom: none;
	}
}

.post-overview {
	padding: 4rem 0;
	margin-left: 5.88%;

	p {
		text-transform: uppercase;
	}

	span {
		padding: 0 2rem;

		&:first-child {
			padding-left: 0;
		}
	}

	.divider {
		position: relative;
    	top: -2px;
	}
}

.page-text {
	h4, h5 {
		margin-top: 3rem;
	}
}

// AUTHOR PAGE

.page-author {
	h2 {
		width: 70%;
	}

	.sub-hero {
		background-position: top;
	}

	.hero-container {
		z-index: 1;
		position: relative;
	}

	.text-container.span_11, .text-container.span_7 {
		margin-left: 29.4%;
		padding: 6rem 12rem 6rem 6rem;
		background-color: $extralightpurple;
		transform: translateY(-3rem);
		border-bottom: none;

		p {
			margin: 0;
		}
	}

	.text-container.span_7 {
		margin-left: 47.04%;
		padding: 6rem 6rem 6rem 12rem;
	}
}

// NEWS

.page-news {
	.text-container.span_7 {
		background-color: $extralightpurple;
		padding: 4rem 4rem 4rem 12rem;
		margin-left: 47.04%;
		transform: translateY(-6rem);

		p {
			margin: 0;
		}
	}
}

// WORK WITH US PAGE

.page-work-with-us {

	.hero h1 {
		text-align: center;
	}

	h2 {
		margin-bottom: 0;
	}

	.jobs-container, .socialfeed-container {
		padding-top: $section-padding-top; //RA
	}

	.no-image {
		background: none;
		.tile-link {
			display: block;
		}

		.tile-inner {
			padding: 0;

			h5, h4, h3, p, a {
				color: $darkgrey;
			}
		}

		h4.barr:after {
			display: none;
		}
	}

	.text-container.span_7 {
		background-color: $extralightpurple;
		padding: 4rem 6rem;
		margin-left: 47.04%;
		transform: translateY(-6rem);

		p {
			margin: 0;
		}
	}

	.tile-inner p {
		@include font-size(2.4);
		@include line-height(3.6);
	}

	.perks-container {
		@include border-bottom;

		.dropdown h2 {
			transform: translateY(0);
			margin: 4rem 0 2rem 23.52%;
		}
	}

	.dropdown-item p:last-of-type {
		padding-bottom: 4rem;
		@include border-bottom;
	}

	.span_6, .span_8 {
		margin-left: 5.88%;
	}

	.jobs {
		@include display(flex);
		flex-wrap: wrap;
	}

	.single-job.span_7 {
		display: block;
		margin-left: 5.88%;
		padding: 6rem 5.88% 4rem 0;
		@include border-bottom;

		h4 {
			color: $darkgrey;
			font-family: $font__bold;
			font-weight: normal;
			@include font-size(2.4);
			@include line-height(3.4);
			text-transform: uppercase;
			margin: 1rem 0;
		}

		p, h5 {
			margin: 0;
		}
	}

	.grid {
		margin-bottom: $section-padding-top; //RA
	}

	.alm-load-more-btn {
		bottom: -6rem;
	}
}

//SINGLE JOBS

.single-jobs {

	.content-area {
		margin-left: 5.88%;
	}

	.hero-container {
		padding: $section-padding-top 0; //RA

		.span_8 {
			margin-right: auto;
		}

		.span_3 {
			margin-right: 11.76%;

			p {
				margin: 0 0 2rem 0;
			}
		}

		.span_10 {
			padding: 4rem $section-padding-top 3rem; //RA
			background-color: $extralightpurple;
		}

		.text-container {
			width: 100%;
			@include display(flex);
		}

		h5 {
			@include font-size(2.4);
			@include line-height(3.4);
		}

		p {
			text-transform: uppercase;
		}
	}

	.page-text {

		h3 {
			color: $darkgrey;
			margin: $section-padding-top 0 6rem 23%; //RA
		}

		p {
			width: 61.5%;
		}

		ul {
			margin-left: 30.77%;
			padding-left: 0;

			&:last-of-type {
				padding-bottom: $section-padding-top; //RA
				@include border-bottom;
			}
		}

		li {
			position: relative;
		}

		li:before {
			content: '_';
			position: absolute;
			left: -12px;
		}
	}
}

// PAGE CONTACT 

.page-contact {

	.hero h1 {
		text-align: center;
	}

	.text-container.span_7 {
		background-color: $extralightpurple;
		padding: 4rem 6rem;
		margin-left: 47.04%;
		transform: translateY(-6rem);

		p {
			margin: 0;
		}
	}

	.locations-container {
		padding: $section-padding-top 0; //RA
		@include border-bottom;

		h2 {
			color: $darkgrey;
		}
	}

	.address {
		margin-left: 12.5%;
	}

	.location-text {
		@include border-bottom;
	}

	.single-location {
		margin-bottom: $section-padding-top; //RA
		@include display(flex);
		flex-wrap: wrap;
	}

	.span_7 {
		margin-left: 5.88%;
	}
}

.acf-map {
    width: 100%;
    height: 60rem;
    margin: 0;
}

//PAGE WORK 

.posts-container {
	.featured:nth-child(3n+3) {
		margin-right: 0;
	}
}

//SINGLE WORK

.single-work {
	.hero-container	{
		display: block;

		.span_11 {
			margin-left: 17.64%;
			transform: translateY(4rem);
			z-index: 1;
			position: relative;

			h2 {
				margin-bottom: 0;
			}
		}

		.sub-hero {
			margin-top: 0;
		}
	}

	.content-area {
		padding-bottom: $section-padding-top;
		border-bottom: 1px solid $grey;
	}

	.text-container.span_11 {
		background-color: $extralightpurple;
		padding: 4rem 6rem;
		margin-left: 29.4%;
	}

	.text-container.span_10 {
		margin-left: 5.88%;
	}

	.text-container.indent {
		margin-left: 17.64%;
	}

	.press-container {
		margin-left: 5.88%;
		padding-top: $section-padding-top; //RA

		.items-container {
			@include display(flex);
			flex-wrap: wrap;
		}

		.span_5 {
			margin: 0;
			padding-right: 1rem;
			padding-bottom: 4rem;

			&:nth-child(3n + 3) {
				padding-right: 0;
			}
		}

		h5 {
			@include font-size(2);
		}
	}

	.text-container {
		padding-top: $section-padding-top; //RA

		ul {
			padding-left: 0;
		}

		li {
			position: relative;
			text-indent: 1.5rem;

			&:before {
				content: '_';
				position: absolute;
				left: -12px;
			}
		}
	}

	.quote-container {
		margin-top: $section-padding-top; //RA
		background-color: $extralightpurple;
		padding: 6rem 8rem;

		.text {
			margin-top: 0;
			position: relative;
			@include font-size(3.6);
			@include line-height(4.4);
			font-family: $font__heading;
		}

		.text:before, .text:after {
			content: '“';
			position: absolute;
			@include font-size(10);
			top: 3rem;
			left: -5rem;
		}

		.text:after {
			content: '”';
			left: auto;
			right: -4rem;
		}

		.source {
			text-transform: uppercase;
		}
	}

	.img-container {
		padding-top: $section-padding-top; //RA
		@include display(flex);

		.image {
			margin-right: 5.88%;
		}

		.image:last-child {
			margin-right: 0;
		}
	}

	.video-container {
		padding-top: $section-padding-top; //RA
	}

	.featured-container {
		padding-top: $section-padding-top; //RA
	}

}

//CANTRUST

.thinking-cantrust {

	.hero-container {
		position: relative;
		z-index: 1;
	}

	.text-container.span_11 {
		background-color: $extralightpurple;
		padding: 4rem 6rem;
		border-bottom: none;
		margin-left: 29.4%;
		transform: translateY(-4rem);
	}

	.cantrust-container	{
		padding-top: $section-padding-top; //RA

		h3 {
			color: $darkgrey;
		}

		.media {
			background-color: $extralightpurple;
			padding: 2rem;
		}

		.span_11 {
			margin-left: 29.4%;
		}

		.span_4 {
			margin-left: 11.76%;
		}

		.span_6 {
			margin-left: 17.64%;
		}
	}

	.links {
		text-align: center;
		margin-top: 4rem;

		p {
			display: inline;
			text-transform: uppercase;
		}
		a {
			padding-right: 2rem;
		}
	}

	.posts-container {
		padding-top: $section-padding-top; //RA
		border-bottom: none;

		.blog-item {
			margin-bottom: 0;
		}
	}
}

//PRIVACY POLICY

.page-privacy-policy {
	h1 {
		margin: $section-padding-top 0; //RA
		color: $darkgrey;
	}
}



